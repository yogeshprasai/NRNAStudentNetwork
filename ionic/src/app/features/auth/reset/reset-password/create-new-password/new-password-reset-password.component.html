<ion-header>
  <ion-toolbar>
      <ion-title class="app-title">
          NRNA Youths
      </ion-title>
      <ion-buttons slot="end">
          <ion-menu-button></ion-menu-button>
      </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div id="container">
      <ion-card class="m-3">
          <ion-card-header>
              <ion-card-subtitle class="white ion-text-center"></ion-card-subtitle>
              <ion-card-title class="nrna-card-title ion-text-center">Password New Password</ion-card-title>
          </ion-card-header>
          <ion-card-content>

              <ion-alert
                      [isOpen]="passwordResetFailed"
                      trigger="present-alert"
                      header="Password Reset Failed. Please try again."
                      [buttons]="passwordResetFailedButtons"
                      [backdropDismiss]="false"
              ></ion-alert>

              <ion-alert
                      [isOpen]="passwordResetSuccessful"
                      trigger="present-alert"
                      header="Password Reset Success !"
                      [buttons]="passwordResetSuccessfulButtons"
                      (didDismiss)="navigateToLogin()"
                      [backdropDismiss]="false"
              ></ion-alert>

              <form [formGroup]="resetNewPasswordForm">
                  <ion-item>
                      <ion-label class="white input-background" position="stacked">New Password</ion-label>
                      <ion-input class="white" formControlName="password" type="{{showPassword ? 'text': 'password' }}" placeholder="Enter New Password" [class.invalid]="!resetNewPasswordForm.controls['password'].valid &&
          resetNewPasswordForm.controls['password'].touched">
                      </ion-input>
                      <ion-icon name="{{ showPassword ? 'eye-off' : 'eye' }}" slot="end" (click)="togglePasswordVisibility()" class="password-icon"></ion-icon>
                  </ion-item>
                  <nrna-error [form]="resetNewPasswordForm" [controlName]="'password'" [page]="'password-reset-verify'"></nrna-error>

                  <br/>

                  <ion-button color="warning" (click)="resetNewPassword(resetNewPasswordForm)" expand="block">
                      Reset Password
                  </ion-button>
                  <p class="ion-text-center"></p>
              </form>

              <ion-button expand="block" fill="clear" routerLink="../../sign-in" class="link">
                  Login Instead
              </ion-button>

          </ion-card-content>
      </ion-card>
  </div>

</ion-content>
