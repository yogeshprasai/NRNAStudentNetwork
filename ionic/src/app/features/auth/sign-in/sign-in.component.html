<ion-header>
  <ion-toolbar>
    <ion-title class="app-title">
      NRNA Student Network
    </ion-title>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>

  <div id="container">

    
    <div class="nrna-flex-image">
      <img class=" nrna_image_login mt-10"  src="../../../../assets/icon/nrna.png">
    </div>
    
    <div>
      <p class="ion-text-center white large-text mt-0 mb-0">NRNA Student Network</p>
      <p class="ion-text-center white small-text mt-10 mb-0">"Bringing Nepalese Student Together"</p>
    </div>

    <ion-card class="white">
      <ion-card-header>
        <ion-card-subtitle class="white ion-text-center">Login</ion-card-subtitle>
        <ion-card-title class="nrna-card-title ion-text-center"></ion-card-title>
      </ion-card-header>
    
      <ion-card-content>

        <ion-alert
          [isOpen]="!isLoggedIn && showFailMessage"
          trigger="present-alert"
          header="Login Failed!"
          message="Please try again"
          [buttons]="LoginFailButtons"
        ></ion-alert>

        <form [formGroup]="loginForm">
          <ion-item>
            <ion-label class="white input-background" position="stacked">Email</ion-label>
            <ion-input class="white" formControlName="email" type="email" placeholder="Your email address" [class.invalid]="!loginForm.controls['email'].valid &&
                    loginForm.controls['email'].touched">
            </ion-input>
          </ion-item>
          <nrna-error [form]="loginForm" [controlName]="'email'" [page]="'login'"></nrna-error>
          <br/> 

          <ion-item>
            <ion-label class="white input-background" position="stacked">Password</ion-label>
            <ion-input class="white" formControlName="password" type="password" placeholder="Your password"
              [class.invalid]="!loginForm.controls['password'].valid&& loginForm.controls['password'].touched">
            </ion-input>
          </ion-item>
          <nrna-error [form]="loginForm" [controlName]="'password'" [page]="'login'"></nrna-error>
          <br/> 
        
          <ion-button (click)="submitCredentials(loginForm)" expand="block">
            <span *ngIf="!showSpinner">Login</span>
            <span><ion-spinner *ngIf="showSpinner"></ion-spinner></span>
          </ion-button>
        </form>

        <ion-button expand="block" fill="clear" [routerLink]="['../sign-up']" class="link">
          Create a new account
        </ion-button>
      
        <ion-button expand="block" fill="clear" [routerLink]="['../password-reset']" class="link">
          I forgot my password :(
        </ion-button>

      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
